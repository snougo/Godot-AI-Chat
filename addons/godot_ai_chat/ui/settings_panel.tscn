[gd_scene load_steps=3 format=3 uid="uid://yhavhbc6hmeu"]

[ext_resource type="Script" uid="uid://dlkxbpvddb1rw" path="res://addons/godot_ai_chat/scripts/core/settings_panel.gd" id="1_1lswa"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_vnbbj"]
bg_color = Color(0.15178573, 0.15178573, 0.15178573, 1)

[node name="SettingsPanel" type="Control"]
custom_minimum_size = Vector2(400, 0)
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_1lswa")

[node name="Panel" type="Panel" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_vnbbj")

[node name="MarginContainer" type="MarginContainer" parent="Panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 10

[node name="VBoxContainer" type="VBoxContainer" parent="Panel/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 20

[node name="HBoxContainer" type="HBoxContainer" parent="Panel/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="APIProviderLabel" type="Label" parent="Panel/MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "API Provider:"
vertical_alignment = 1
text_overrun_behavior = 1

[node name="APIProviderOptions" type="OptionButton" parent="Panel/MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text_overrun_behavior = 1
selected = 0
item_count = 2
popup/item_0/text = "OpenAI-Compatible"
popup/item_0/id = 0
popup/item_1/text = "Google Gemini"
popup/item_1/id = 1

[node name="HBoxContainer2" type="HBoxContainer" parent="Panel/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="BaseUrlLabel" type="Label" parent="Panel/MarginContainer/VBoxContainer/HBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3
tooltip_text = "When using openRouter as API Service Provider, You should input https://openrouter.ai/api, not https://openrouter.ai"
mouse_filter = 1
text = "Base Url:"
vertical_alignment = 1
text_overrun_behavior = 1

[node name="BaseUrlInput" type="LineEdit" parent="Panel/MarginContainer/VBoxContainer/HBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "LM Studio: http://127.0.0.1:1234"
context_menu_enabled = false
clear_button_enabled = true

[node name="HBoxContainer3" type="HBoxContainer" parent="Panel/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="APIKeyLabel" type="Label" parent="Panel/MarginContainer/VBoxContainer/HBoxContainer3"]
layout_mode = 2
size_flags_horizontal = 3
tooltip_text = "When using LM Studio or Ollama, You don't need to provide an API Key."
mouse_filter = 1
text = "API Key(optional):"
vertical_alignment = 1
text_overrun_behavior = 1

[node name="APIKeyInput" type="LineEdit" parent="Panel/MarginContainer/VBoxContainer/HBoxContainer3"]
layout_mode = 2
size_flags_horizontal = 3
context_menu_enabled = false
clear_button_enabled = true
secret = true

[node name="HBoxContainer4" type="HBoxContainer" parent="Panel/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="MaxChatTurnsLabel" type="Label" parent="Panel/MarginContainer/VBoxContainer/HBoxContainer4"]
layout_mode = 2
size_flags_horizontal = 3
tooltip_text = "Sets the maximum number of dialogue turns to keep in memory.
A 'turn' is one user request and the complete AI response that follows, even if it involves multiple tool calls."
mouse_filter = 1
text = "Max Chat Turns:"
vertical_alignment = 1
text_overrun_behavior = 1

[node name="MaxChatTurnsValue" type="SpinBox" parent="Panel/MarginContainer/VBoxContainer/HBoxContainer4"]
layout_mode = 2
size_flags_horizontal = 3
min_value = 1.0
value = 6.0
alignment = 2

[node name="HBoxContainer5" type="HBoxContainer" parent="Panel/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="TimeoutLabel" type="Label" parent="Panel/MarginContainer/VBoxContainer/HBoxContainer5"]
layout_mode = 2
size_flags_horizontal = 3
text = "Timeout (sec):"
vertical_alignment = 1
text_overrun_behavior = 1

[node name="TimeoutValue" type="SpinBox" parent="Panel/MarginContainer/VBoxContainer/HBoxContainer5"]
layout_mode = 2
size_flags_horizontal = 3
max_value = 1800.0
value = 180.0
alignment = 2

[node name="HBoxContainer6" type="HBoxContainer" parent="Panel/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="TemperatureLabel" type="Label" parent="Panel/MarginContainer/VBoxContainer/HBoxContainer6"]
layout_mode = 2
size_flags_horizontal = 3
text = "Temperature:"
vertical_alignment = 1
text_overrun_behavior = 1

[node name="TemperatureValue" type="HSlider" parent="Panel/MarginContainer/VBoxContainer/HBoxContainer6"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 0.93
max_value = 1.0
step = 0.09999999999126884
value = 0.6999999999388816

[node name="TemperatureValueLabel" type="Label" parent="Panel/MarginContainer/VBoxContainer/HBoxContainer6"]
custom_minimum_size = Vector2(50, 0)
layout_mode = 2
text = "0.70"
horizontal_alignment = 1
vertical_alignment = 1

[node name="SystemPromptLabel" type="Label" parent="Panel/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "System Prompt:"
vertical_alignment = 1
text_overrun_behavior = 1

[node name="SystemPromptInput" type="TextEdit" parent="Panel/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
text = "You are a helpful Godot Engine Assistant."
wrap_mode = 1
scroll_smooth = true

[node name="SummarizePromptLabel" type="Label" parent="Panel/MarginContainer/VBoxContainer"]
layout_mode = 2
tooltip_text = "Summarize Current Chat Context"
mouse_filter = 0
text = "Summarization Prompt:"
vertical_alignment = 1
text_overrun_behavior = 1

[node name="SummarizePromptInput" type="TextEdit" parent="Panel/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
text = "Please summarize the following conversation concisely. Identify the key points, decisions made, and any unresolved questions. The summary should be clear and easy to understand for someone who has not read the full conversation."
wrap_mode = 1
scroll_smooth = true

[node name="CenterContainer" type="CenterContainer" parent="Panel/MarginContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2

[node name="SaveButton" type="Button" parent="Panel/MarginContainer/VBoxContainer/CenterContainer"]
custom_minimum_size = Vector2(200, 60)
layout_mode = 2
theme_override_colors/font_hover_color = Color(0.34901962, 0.9490196, 0.4117647, 1)
text = "Save and Close"
